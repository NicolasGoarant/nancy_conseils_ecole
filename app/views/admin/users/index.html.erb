<div class="admin-header">
  <h1>Gestion des utilisateurs</h1>
  <div class="admin-actions">
    <%= link_to "Retour à l'administration", admin_root_path, class: "back-button" %>
    <%= link_to "Nouvel utilisateur", new_admin_user_path, class: "action-button" %>
  </div>
</div>

<div class="data-table-container">
  <table class="data-table">
    <thead>
      <tr>
        <th>Nom</th>
        <th>Identifiant</th>
        <th>Email</th>
        <th>Rôle</th>
        <th>Créé le</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @users.each do |user| %>
        <tr>
          <td><%= user.full_name %></td>
          <td><%= user.username %></td>
          <td><%= user.email %></td>
          <td><span class="role-badge <%= user.role %>"><%= user.role %></span></td>
          <td><%= user.created_at.strftime('%d/%m/%Y') %></td>
          <td class="actions-cell">
            <%= link_to "Voir", admin_user_path(user), class: "table-action" %>
            <%= link_to "Modifier", edit_admin_user_path(user), class: "table-action" %>
            <%= link_to "Supprimer", admin_user_path(user), 
                        method: :delete, 
                        data: { turbo_method: :delete, turbo_confirm: 'Êtes-vous sûr de vouloir supprimer cet utilisateur ?' }, 
                        class: "table-action delete" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<style>
  .admin-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }
  
  .admin-actions {
    display: flex;
    gap: 10px;
  }
  
  .back-button {
    display: inline-block;
    background-color: #f5f5f5;
    color: #333;
    padding: 8px 15px;
    text-decoration: none;
    border-radius: 4px;
    font-size: 0.9em;
  }
  
  .back-button:hover {
    background-color: #e5e5e5;
  }
  
  .action-button {
    display: inline-block;
    background-color: #c00;
    color: white;
    padding: 8px 15px;
    text-decoration: none;
    border-radius: 4px;
  }
  
  .action-button:hover {
    background-color: #a00;
  }
  
  .data-table-container {
    overflow-x: auto;
  }
  
  .data-table {
    width: 100%;
    border-collapse: collapse;
    background-color: #fff;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    border-radius: 4px;
  }
  
  .data-table thead {
    background-color: #f5f5f5;
  }
  
  .data-table th,
  .data-table td {
    padding: 12px 15px;
    text-align: left;
    border-bottom: 1px solid #eee;
  }
  
  .data-table tbody tr:hover {
    background-color: #f9f9f9;
  }
  
  .role-badge {
    display: inline-block;
    padding: 3px 8px;
    border-radius: 3px;
    font-size: 0.8rem;
    font-weight: bold;
    text-transform: uppercase;
  }
  
  .role-badge.admin {
    background-color: #dc3545;
    color: white;
  }
  
  .role-badge.official {
    background-color: #28a745;
    color: white;
  }
  
  .role-badge.school {
    background-color: #007bff;
    color: white;
  }
  
  .actions-cell {
    display: flex;
    gap: 5px;
  }
  
  .table-action {
    display: inline-block;
    padding: 3px 8px;
    border-radius: 3px;
    background-color: #eee;
    color: #333;
    text-decoration: none;
    font-size: 0.8rem;
  }
  
  .table-action:hover {
    background-color: #ddd;
  }
  
  .table-action.delete {
    background-color: #f8d7da;
    color: #721c24;
  }
  
  .table-action.delete:hover {
    background-color: #f5c6cb;
  }
</style>